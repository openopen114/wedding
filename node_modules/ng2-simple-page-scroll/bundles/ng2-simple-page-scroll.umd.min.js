!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/router","@angular/platform-browser","@angular/common"],t):t((e.ng2=e.ng2||{},e.ng2.simple=e.ng2.simple||{},e.ng2.simple.page=e.ng2.simple.page||{},e.ng2.simple.page.scroll=e.ng2.simple.page.scroll||{}),e.ng.core,e.ng.router,e.ng.platform-browser,e.ng.common)}(this,function(e,t,o,r,n){"use strict";var l=function(){function e(){}return e.defaultScrollOffset=0,e}(),i=function(){function e(e){this.document=e,this.body=e.body}return e.prototype.scrollToElement=function(e,t){function o(e){e&&"undefined"!=typeof e.scrollTop&&(e.scrollTop=r.offsetTop-r.scrollTop+r.clientTop+(t||l.defaultScrollOffset))}var r=this.determineElement(e);null!==r&&(o(this.body),o(this.document.documentElement),o(this.document.body.parentNode))},e.prototype.determineElement=function(e){return"string"==typeof e?this.document.getElementById(e.substr(1)):e},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:Document,decorators:[{type:t.Inject,args:[r.DOCUMENT]}]}],e}(),s=function(){function e(e,o){this.router=e,this.simplePageScrollService=o,this.pageScrollOffset=null,this.pageScrollFinish=new t.EventEmitter,this.shouldScroll=!1}return e.prototype.handleClick=function(e){var t=this;if(this.routerLink&&null!==this.router&&void 0!==this.router)var r=this.router.events.subscribe(function(e){e instanceof o.NavigationEnd?(r.unsubscribe(),t.shouldScroll=!0):(e instanceof o.NavigationError||e instanceof o.NavigationCancel)&&(r.unsubscribe(),t.pageScrollFinish.emit(!1))});else this.scrollAndEmitEvent();return!1},e.prototype.scrollAndEmitEvent=function(){this.simplePageScrollService.scrollToElement(this.href,this.pageScrollOffset),this.shouldScroll=!1,this.pageScrollFinish.emit(!0)},e.prototype.ngAfterViewChecked=function(){this.shouldScroll&&this.scrollAndEmitEvent()},e.decorators=[{type:t.Directive,args:[{selector:"[simplePageScroll]",host:{"(click)":"handleClick($event)"}}]}],e.ctorParameters=[{type:o.Router},{type:i}],e.propDecorators={routerLink:[{type:t.Input}],href:[{type:t.Input}],pageScrollOffset:[{type:t.Input}],pageScrollFinish:[{type:t.Output}]},e}(),c=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[{provide:i,useClass:i}]}},e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[s],exports:[s]}]}],e.ctorParameters=[],e}();e.Ng2SimplePageScrollModule=c,e.SimplePageScroll=s,e.SimplePageScrollService=i,e.SimplePageScrollConfig=l,Object.defineProperty(e,"__esModule",{value:!0})});
